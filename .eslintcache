[{"/home/dninja/Projects/github/otrust/src/index.js":"1","/home/dninja/Projects/github/otrust/src/App.js":"2","/home/dninja/Projects/github/otrust/src/reportWebVitals.js":"3","/home/dninja/Projects/github/otrust/src/context/AutoLogin.js":"4","/home/dninja/Projects/github/otrust/src/theme/theme.js":"5","/home/dninja/Projects/github/otrust/src/theme/GlobalStyle.js":"6","/home/dninja/Projects/github/otrust/src/pages/NOMTrust.js":"7","/home/dninja/Projects/github/otrust/src/pages/Landing.js":"8","/home/dninja/Projects/github/otrust/src/hooks/useEagerConnect.js":"9","/home/dninja/Projects/github/otrust/src/hooks/useInactiveListener.js":"10","/home/dninja/Projects/github/otrust/src/utils/index.js":"11","/home/dninja/Projects/github/otrust/src/components/AcctDash.js":"12","/home/dninja/Projects/github/otrust/src/components/Chart/D3Chart.js":"13","/home/dninja/Projects/github/otrust/src/connectors/index.js":"14","/home/dninja/Projects/github/otrust/src/components/Swap/index.js":"15","/home/dninja/Projects/github/otrust/src/components/Chart/D3LineChart.js":"16","/home/dninja/Projects/github/otrust/src/components/Chart/utils.js":"17","/home/dninja/Projects/github/otrust/src/components/UI/index.js":"18","/home/dninja/Projects/github/otrust/src/components/index.js":"19","/home/dninja/Projects/github/otrust/src/components/UI/Container.js":"20","/home/dninja/Projects/github/otrust/src/components/UI/Panel.js":"21","/home/dninja/Projects/github/otrust/src/components/Chart/index.js":"22","/home/dninja/Projects/github/otrust/src/context/responsive/cssSizes.js":"23","/home/dninja/Projects/github/otrust/src/components/Dropdown.js":"24","/home/dninja/Projects/github/otrust/src/utils/device.js":"25","/home/dninja/Projects/github/otrust/src/components/MainHeader.js":"26","/home/dninja/Projects/github/otrust/src/components/UI/Button.js":"27","/home/dninja/Projects/github/otrust/src/lib/use-async-fn.js":"28","/home/dninja/Projects/github/otrust/src/context/SwapContext.js":"29","/home/dninja/Projects/github/otrust/src/utils/bonding.js":"30","/home/dninja/Projects/github/otrust/src/context/chain/ChainContext.js":"31","/home/dninja/Projects/github/otrust/src/context/Web3Context.js":"32","/home/dninja/Projects/github/otrust/src/context/chain/contracts.js":"33"},{"size":827,"mtime":1612637398517,"results":"34","hashOfConfig":"35"},{"size":592,"mtime":1614049856846,"results":"36","hashOfConfig":"35"},{"size":362,"mtime":1612310514019,"results":"37","hashOfConfig":"35"},{"size":1506,"mtime":1614107190160,"results":"38","hashOfConfig":"35"},{"size":1563,"mtime":1612485602596,"results":"39","hashOfConfig":"35"},{"size":1284,"mtime":1612380397289,"results":"40","hashOfConfig":"35"},{"size":763,"mtime":1612567310809,"results":"41","hashOfConfig":"35"},{"size":726,"mtime":1612483929619,"results":"42","hashOfConfig":"35"},{"size":869,"mtime":1612375941823,"results":"43","hashOfConfig":"35"},{"size":1407,"mtime":1612375798696,"results":"44","hashOfConfig":"35"},{"size":1435,"mtime":1613099878611,"results":"45","hashOfConfig":"35"},{"size":2410,"mtime":1614107778464,"results":"46","hashOfConfig":"35"},{"size":2533,"mtime":1614219785857,"results":"47","hashOfConfig":"35"},{"size":574,"mtime":1612375843438,"results":"48","hashOfConfig":"35"},{"size":5793,"mtime":1614189469230,"results":"49","hashOfConfig":"35"},{"size":4216,"mtime":1614224561166,"results":"50","hashOfConfig":"35"},{"size":602,"mtime":1612378972455,"results":"51","hashOfConfig":"35"},{"size":77,"mtime":1612486005856,"results":"52","hashOfConfig":"35"},{"size":95,"mtime":1612402942747,"results":"53","hashOfConfig":"35"},{"size":757,"mtime":1612379121302,"results":"54","hashOfConfig":"35"},{"size":462,"mtime":1612456583403,"results":"55","hashOfConfig":"35"},{"size":26,"mtime":1612382748218,"results":"56","hashOfConfig":"35"},{"size":159,"mtime":1612379395588,"results":"57","hashOfConfig":"35"},{"size":1933,"mtime":1612568355370,"results":"58","hashOfConfig":"35"},{"size":585,"mtime":1612456251291,"results":"59","hashOfConfig":"35"},{"size":1027,"mtime":1612639660120,"results":"60","hashOfConfig":"35"},{"size":1529,"mtime":1612485871497,"results":"61","hashOfConfig":"35"},{"size":645,"mtime":1612491878200,"results":"62","hashOfConfig":"35"},{"size":1978,"mtime":1614189905499,"results":"63","hashOfConfig":"35"},{"size":2094,"mtime":1612638234142,"results":"64","hashOfConfig":"35"},{"size":2305,"mtime":1614190436582,"results":"65","hashOfConfig":"35"},{"size":2291,"mtime":1612374698233,"results":"66","hashOfConfig":"35"},{"size":594,"mtime":1614129976979,"results":"67","hashOfConfig":"35"},{"filePath":"68","messages":"69","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"70"},"vzbwgb",{"filePath":"71","messages":"72","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"70"},{"filePath":"73","messages":"74","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"70"},{"filePath":"75","messages":"76","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"70"},{"filePath":"77","messages":"78","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"70"},{"filePath":"79","messages":"80","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"70"},{"filePath":"81","messages":"82","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"70"},{"filePath":"83","messages":"84","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"70"},{"filePath":"85","messages":"86","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"87","usedDeprecatedRules":"70"},{"filePath":"88","messages":"89","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"70"},{"filePath":"90","messages":"91","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"70"},{"filePath":"92","messages":"93","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"70"},{"filePath":"94","messages":"95","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"96","messages":"97","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"70"},{"filePath":"98","messages":"99","errorCount":0,"warningCount":9,"fixableErrorCount":0,"fixableWarningCount":0,"source":"100","usedDeprecatedRules":"70"},{"filePath":"101","messages":"102","errorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"103","messages":"104","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"105","usedDeprecatedRules":"70"},{"filePath":"106","messages":"107","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"70"},{"filePath":"108","messages":"109","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"70"},{"filePath":"110","messages":"111","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"70"},{"filePath":"112","messages":"113","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"114","usedDeprecatedRules":"70"},{"filePath":"115","messages":"116","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"70"},{"filePath":"117","messages":"118","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"70"},{"filePath":"119","messages":"120","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"70"},{"filePath":"121","messages":"122","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"123"},{"filePath":"124","messages":"125","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"126","usedDeprecatedRules":"70"},{"filePath":"127","messages":"128","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"70"},{"filePath":"129","messages":"130","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"70"},{"filePath":"131","messages":"132","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"133","usedDeprecatedRules":"70"},{"filePath":"134","messages":"135","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"136","usedDeprecatedRules":"70"},{"filePath":"137","messages":"138","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"139","usedDeprecatedRules":"70"},{"filePath":"140","messages":"141","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"142","messages":"143","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"144","usedDeprecatedRules":"70"},"/home/dninja/Projects/github/otrust/src/index.js",[],["145","146"],"/home/dninja/Projects/github/otrust/src/App.js",[],"/home/dninja/Projects/github/otrust/src/reportWebVitals.js",[],"/home/dninja/Projects/github/otrust/src/context/AutoLogin.js",[],"/home/dninja/Projects/github/otrust/src/theme/theme.js",[],"/home/dninja/Projects/github/otrust/src/theme/GlobalStyle.js",[],"/home/dninja/Projects/github/otrust/src/pages/NOMTrust.js",[],"/home/dninja/Projects/github/otrust/src/pages/Landing.js",[],"/home/dninja/Projects/github/otrust/src/hooks/useEagerConnect.js",["147"],"import { useState, useEffect } from \"react\"\nimport { useWeb3React } from \"@web3-react/core\"\n\nimport { injected } from \"../connectors\"\n\nexport function useEagerConnect() {\n  const { activate, active } = useWeb3React()\n\n  const [tried, setTried] = useState(false)\n  useEffect(() => {\n    injected.isAuthorized().then((isAuthorized) => {\n      console.log(\"useEagerConnect:\", { active, isAuthorized })\n      if (isAuthorized) {\n        activate(injected, undefined, true).catch(() => {\n          setTried(true)\n        })\n      } else {\n        setTried(true)\n      }\n    })\n  }, [activate]) // intentionally only running on mount (make sure it's only mounted once :))\n\n  // if the connection worked, wait until we get confirmation of that to flip the flag\n  useEffect(() => {\n    if (!tried && active) {\n      setTried(true)\n    }\n  }, [tried, active])\n\n  return tried\n}\n","/home/dninja/Projects/github/otrust/src/hooks/useInactiveListener.js",[],"/home/dninja/Projects/github/otrust/src/utils/index.js",[],"/home/dninja/Projects/github/otrust/src/components/AcctDash.js",[],"/home/dninja/Projects/github/otrust/src/components/Chart/D3Chart.js",["148","149"],"/home/dninja/Projects/github/otrust/src/connectors/index.js",[],"/home/dninja/Projects/github/otrust/src/components/Swap/index.js",["150","151","152","153","154","155","156","157","158"],"import React, { useCallback } from 'react'\nimport styled from 'styled-components'\nimport { Panel } from 'components'\nimport Dropdown from 'components/Dropdown'\nimport { borderRadius } from 'context/responsive/cssSizes'\nimport { AccentButton } from 'components/UI/Button'\nimport { useAsyncFn } from 'lib/use-async-fn'\nimport { useSwap, useUpdateSwap } from 'context/SwapContext'\nimport { useChain } from 'context/chain/ChainContext'\nimport { formatEther, parseEther } from '@ethersproject/units'\n\nconst FlexWrapper = styled.div`\n    display: flex;\n    flex-direction: column;\n`\n\nconst GridWrapper = styled.div`\n    display: grid;\n    grid-template-columns: 1fr auto 1fr;\n    align-items: center;\n    justify-content: center;\n    gap: 1rem;\n    margin-top: 1rem;\n`\n\nconst RowWrapper = styled.div`\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: center;\n    gap: 2rem;\n    margin-top: 1rem;\n`\nconst StyledInput = styled.input`\n\n    width: ${p => p.width};\n    height: ${p => p.height};\n    padding-left: ${p => p.paddingLeft};\n\n    border: .1rem solid ${props => props.theme.colors.background};\n    border-radius: ${borderRadius};\n\n    font-size: 1rem;\n    \n\n    box-sizing: border-box;\n\n    ::placeholder {\n        color: ${props => props.theme.colors.background};;\n    }\n\n    &:focus {\n        outline: none;\n        color: #000;\n\n        ::placeholder {\n            color: ${props => props.theme.colors.background};\n        }\n    }\n`\n\nconst RightComponentWrapper = styled.div`\n    width: 5em;\n    text-align: center;\n    vertical-align: middle;\n    line-height: 2rem;\n`\nconst LeftComponentWrapper = styled.div`\n    width: 3em;\n    text-align: right;\n    vertical-align: middle;\n    line-height: 2rem;\n`\n\nconst MiddleComponentWrapper = styled.div`\n    text-align: center;\n    vertical-align: middle;\n    line-height: 2rem;\n`\n\nconst SwapHeader = styled.header`\n  font-size: 1.4rem;\n  color: #fff;\n  margin-bottom: 1rem;\n  height: 3rem;\n  line-height: 3rem;\n  background: ${props => props.theme.colors.headerBackground};\n  text-align: center;\n  vertical-align: middle;\n  border-radius: ${borderRadius};\n`\nconst Button = styled(AccentButton)`\n    background-color: ${props => props.theme.colors.headerBackground}\n`\nexport default function Swap() {\n    const { swapDenom, swapBuyAmount, swapSellAmount } = useSwap()\n    const { setSwapBuyAmount, setSwapDenom } = useUpdateSwap()\n    const onTextChange = useCallback(evt => setSwapBuyAmount(evt.target.value), [])\n    const { bondContract, NOMcontract } = useChain()\n\n    const submitTrans = useCallback(\n        async evt => {\n          if (evt) evt.preventDefault()\n          if (!swapBuyAmount) return\n          try {\n            if (swapDenom == 'ETH') {\n                console.log(\"Purchase amount ETH: \", swapBuyAmount)\n                try {\n                    const response = bondContract.buyNOM({value: parseEther(swapBuyAmount.toString()).toString()})\n                    setSwapBuyAmount('')\n                } catch (e) {\n                    // eslint-disable-next-line no-console\n                    console.error(e.stack || e)\n                    setSwapBuyAmount(swapBuyAmount)\n                }\n            } else {\n                console.log(\"Sell amount NOM: \", swapBuyAmount)\n                const res1 = await NOMcontract.increaseAllowance(bondContract.address, parseEther(swapBuyAmount.toString()))\n                const res2 = await bondContract.sellNOM(parseEther(swapBuyAmount.toString())).then((f) => {\n                    console.log(\"Transaction receipt: \", f)\n                })\n                setSwapBuyAmount('')\n            }\n          } catch (e) {\n            // eslint-disable-next-line no-console\n            console.error(e.stack || e)\n            setSwapBuyAmount(swapBuyAmount)\n          }\n        }\n    )\n\n    const [onSubmit, isWorking, error] = useAsyncFn(submitTrans)\n\n    const onTextAreaKeyDown = e => {\n        if (e.keyCode === 13 && e.shiftKey === false) {\n          e.preventDefault()\n        }\n        setSwapBuyAmount(e)\n    }\n\n    return (\n        <FlexWrapper>\n            <Panel>\n                <form onSubmit={ onSubmit }>\n                    <SwapHeader>\n                        Swap\n                    </SwapHeader>\n                    <GridWrapper>\n                    <LeftComponentWrapper>\n                        From:\n                        </LeftComponentWrapper>\n                        <StyledInput\n                            type='text'\n                            value={swapBuyAmount}\n                            onChange={onTextChange}\n                            onTextAreaKeyDown={onTextAreaKeyDown}\n                            placeholder={isWorking ? \"Confirming\":\"Enter amount\"}\n                            width='10rem' \n                            height='2rem' \n                            paddingLeft='1.25rem'\n                        />\n                        <Dropdown denom={swapDenom} setDenom={setSwapDenom}/>\n                        <LeftComponentWrapper>\n                        To: \n                        </LeftComponentWrapper>\n                        <MiddleComponentWrapper>\n                            { (swapSellAmount) ? swapSellAmount.toFixed(9) : null }\n                        </MiddleComponentWrapper>\n                        <RightComponentWrapper>\n                            { swapDenom == 'NOM' ? 'ETH' : 'NOM' }\n                        </RightComponentWrapper>\n                    </GridWrapper>\n                        \n                    <RowWrapper>\n                        <Button type='submit'>\n                            Execute\n                        </Button>\n                    </RowWrapper>\n                </form>\n                \n            </Panel>\n        </FlexWrapper>\n    )\n}","/home/dninja/Projects/github/otrust/src/components/Chart/D3LineChart.js",["159","160","161","162","163","164","165"],"/home/dninja/Projects/github/otrust/src/components/Chart/utils.js",["166"],"\nimport React, { useEffect, useState } from \"react\";\nimport ResizeObserver from \"resize-observer-polyfill\";\n\nexport const useResizeObserver = (ref) => {\n    const [dimensions, setDimensions] = useState(null);\n    useEffect(() => {\n      const observeTarget = ref.current;\n      const resizeObserver = new ResizeObserver((entries) => {\n        entries.forEach((entry) => {\n          setDimensions(entry.contentRect);\n        });\n      });\n      resizeObserver.observe(observeTarget);\n      return () => {\n        resizeObserver.unobserve(observeTarget);\n      };\n    }, [ref]);\n    return dimensions;\n};","/home/dninja/Projects/github/otrust/src/components/UI/index.js",[],"/home/dninja/Projects/github/otrust/src/components/index.js",[],"/home/dninja/Projects/github/otrust/src/components/UI/Container.js",[],"/home/dninja/Projects/github/otrust/src/components/UI/Panel.js",["167"],"import React from 'react'\nimport styled from 'styled-components'\nimport {borderWidth, borderRadius} from 'context/responsive/cssSizes'\n\nexport const Panel = styled.div`\n  padding: 1.5rem 2rem;  \n\n  border: ${borderWidth} solid ${props => props.theme.colors.panelBorder};\n  background-color: ${props => props.theme.colors.panel};\n  border-radius: ${borderRadius};\n\n  box-sizing: border-box;\n\n  box-shadow: 0 .625rem 1.5rem ${props => props.theme.colors.shadow};\n`","/home/dninja/Projects/github/otrust/src/components/Chart/index.js",[],"/home/dninja/Projects/github/otrust/src/context/responsive/cssSizes.js",[],"/home/dninja/Projects/github/otrust/src/components/Dropdown.js",[],"/home/dninja/Projects/github/otrust/src/utils/device.js",[],["168","169"],"/home/dninja/Projects/github/otrust/src/components/MainHeader.js",["170"],"import React from 'react'\nimport styled from 'styled-components'\n\nimport { Container } from 'components/UI'\nimport { headerFill, header } from 'context/responsive/cssSizes'\nimport logo from 'assets/logo.png'\n\nconst Sticker = styled.header`\n    position: sticky;\n    top: 0;\n    z-index: 10;\n`\nconst HeaderWrapper = styled.div`\n    display: flex;\n    align-items: center;\n    justify-content: center\n\n    height: ${p => p.height};\n    width: 100%;\n    \n    background-color: ${props => props.theme.colors.headerBackground};\n    border-bottom: .1rem solid ${props => props.theme.colors.border};\n    \n`\nconst Filler = styled.div`\n    height: ${p => p.height};\n    width: 100%;\n    z-index: 10;\n`\nconst StyledImg = styled.img`\n    display: block;\n    margin: auto;\n`\n\nexport default function MainHeader() {\n    return (\n        <Sticker>\n            <HeaderWrapper height={header}>\n                <StyledImg src={logo} alt=\"logo\" />\n            </HeaderWrapper>\n            <Filler height={headerFill}/>\n        </Sticker>\n    )\n}","/home/dninja/Projects/github/otrust/src/components/UI/Button.js",[],"/home/dninja/Projects/github/otrust/src/lib/use-async-fn.js",[],"/home/dninja/Projects/github/otrust/src/context/SwapContext.js",["171"],"import React, { useEffect, useState, createContext, useContext } from 'react'\nimport { ETHtoNOM, NOMtoETH } from 'utils/bonding'\nimport { useChain } from 'context/chain/ChainContext'\n\nexport const SwapContext = createContext()\nexport const useSwap = () => useContext(SwapContext)\n\nexport const UpdateSwapContext = createContext()\nexport const useUpdateSwap = () => useContext(UpdateSwapContext)\n\nfunction SwapProvider ({children}) {\n    const { supplyNOM } = useChain()\n    const [swapBuyAmount, setSwapBuyAmount] = useState('')\n    const [swapDenom, setSwapDenom] = useState('ETH')\n    const [swapSellAmount, setSwapSellAmount] = useState(0)\n    const [swapSupply, setSwapSupply] = useState([])\n\n    const contextValue = {\n        swapBuyAmount,\n        swapDenom,\n        swapSellAmount,\n        swapSupply\n    }\n\n    const updateValue = {\n        setSwapBuyAmount,\n        setSwapDenom,\n        setSwapSellAmount,\n        setSwapSupply\n    }\n\n    useEffect(() => {\n        if (swapBuyAmount === 0) {\n            setSwapSellAmount(0)\n            setSwapSupply([supplyNOM, supplyNOM])\n        } else {\n            if (swapDenom === 'ETH') {\n                const { supplyBot, supplyTop, diff } = ETHtoNOM(swapBuyAmount, supplyNOM)\n                setSwapSellAmount(diff)\n                setSwapSupply([supplyBot, supplyTop])\n            } else {\n                const { supplyBot, supplyTop, diff } = NOMtoETH(swapBuyAmount, supplyNOM)\n                setSwapSellAmount(diff)\n                setSwapSupply([supplyBot, supplyTop])\n                console.log(\"SupplyBot NOM\", supplyBot)\n            }\n        }\n        console.log(\"Gets here\", swapSellAmount)\n    },[swapDenom, swapBuyAmount, supplyNOM])\n\n    return (\n        <UpdateSwapContext.Provider value = { updateValue }>\n            <SwapContext.Provider value = { contextValue } >\n                {children}\n            </SwapContext.Provider>\n        </UpdateSwapContext.Provider>\n    )\n}\n\nexport default SwapProvider","/home/dninja/Projects/github/otrust/src/utils/bonding.js",["172"],"\nconst a = 100000000\nconst priceBondCurve = .001\n\n// Bonding curve price at specified supply\nexport function supplyAtPrice(price) {\n    //#NOM Sold = sqrt(ETH/NOM) * a\n    return Math.sqrt(price) * a\n}\n\nexport function priceAtSupply(supply) {\n    return (supply/a)**2\n}\n\n// NOM supply range to ETH\nexport function NOMsupplyETH(supplyTop, supplyBot) {\n    // Integrate over curve to get amount of ETH needed to buy amount of NOM\n    // ETH = a/3((supplyNOM_Top/a)^3 - (supplyNOM_Bot/a)^3)\n    return (a/3)*((supplyTop/a)**3 - (supplyBot/a)**3)\n}\n\n// Returns Buy Quote for the purchase of NOM based on amount of ETH\n// Parameters:\n// Input\n// amount: amount of ETH\n// Output\n// output: amount of NOM\nexport function ETHtoNOM(amount, supply) {\n    const price = priceAtSupply(supply)\n    // 1. Determine supply bottom\n    // Price bottom is 1% above priceBondCurve\n    const priceBot = price * 1.01\n    const supplyBot = supplyAtPrice(priceBot);\n    // 2. Integrate over curve, and solve for supply top\n    // (3*ETH/a + (supplyNOM_Bot/a)^3)^(1/3)\n    const supplyTop = a*(3*amount/a + supplyBot**3/a**3)**(1/3)\n    console.log(\"supply top: \", supplyTop)\n    // 3. Subtract supply bottom from top to get amount NOM for amount ETH\n    const diff = supplyTop - supplyBot\n    console.log(\"diff\", diff)\n    return { supplyBot, supplyTop, diff }\n}\n\n// Returns Sell Quote: NOM for ETH (Dec 18)\n// Parameters:\n// Input\n// uint256 amountNOM: amount of NOM to be sold (18 decimal)\n// Output\n// uint256: amount of ETH paid in Wei or ETH (18 decimal)\nexport function NOMtoETH(amount, supply) {\n    const price = priceAtSupply(supply)\n    // 1. Determine supply top: priceBondCurve - 1% = Top Sale Price\n    const priceTop = price*(.99)\n    const supplyTop = supplyAtPrice(priceTop);\n    const supplyBot = supplyTop - amount;\n    // 2. Integrate over curve to find ETH\n    // ETH = a/3((supplyNOM_Top/a)^3 - (supplyNOM_Bot/a)^3)\n    console.log(\"Supply Top: \", supplyTop)\n    console.log(\"Supply Bot: \", supplyBot)\n    const diff = NOMsupplyETH(supplyTop, supplyBot)\n    return { supplyBot, supplyTop, diff}\n}","/home/dninja/Projects/github/otrust/src/context/chain/ChainContext.js",["173"],"import React, { useState, useEffect, createContext, useContext } from 'react'\nimport { formatEther } from '@ethersproject/units'\nimport { useWeb3React } from \"@web3-react/core\"\nimport { NOMCont, BondingCont } from './contracts'\n\nexport const ChainContext = createContext()\nexport const useChain = () => useContext(ChainContext)\n\nexport const UpdateChainContext = createContext()\nexport const useUpdateChain = () => useContext(UpdateChainContext)\n\nfunction ChainProvider ({children}) {\n    const { account, library } = useWeb3React()\n    const [blockNumber, setBlockNumber] = useState()\n    const [ETHbalance, setETHBalance] = useState()\n    const [NOMbalance, setNOMBalance] = useState()\n    const [supplyNOM, setSupplyNOM] = useState()\n    const bondContract = BondingCont(library)\n    const NOMcontract = NOMCont(library)\n    const [currSupply, setCurrSupply] = useState(1000)\n\n    useEffect(() => {\n        // listen for changes on an Ethereum address\n        library.on('block', (number) => {\n            setBlockNumber(number)\n            library\n                .getBalance(account)\n                .then((ETHbalance) => {\n                    setETHBalance(ETHbalance)\n                })\n            NOMcontract\n                .balanceOf(account)\n                .then((NOMbalance) => {\n                    setNOMBalance(NOMbalance)\n                })\n            bondContract\n                .getSupplyNOM()\n                .then((supNOM) => {\n                    console.log(\"Supply NOM: \", supNOM)\n                    setSupplyNOM(formatEther(supNOM))\n                })\n        })\n        // remove listener when the component is unmounted\n        return () => {\n          library.removeAllListeners('block')\n        }\n        // trigger the effect only on component mount\n    }, [])\n\n    const contextValue = {\n        blockNumber,\n        bondContract,\n        currSupply,\n        ETHbalance,\n        NOMbalance,\n        NOMcontract,\n        supplyNOM\n    }\n\n    const updateValue = {\n        setCurrSupply\n    }\n\n    return (\n        <UpdateChainContext.Provider value = { updateValue }>\n            <ChainContext.Provider value = { contextValue } >\n                {children}\n            </ChainContext.Provider>\n        </UpdateChainContext.Provider>\n    )\n}\n\nexport default ChainProvider\n","/home/dninja/Projects/github/otrust/src/context/Web3Context.js",["174"],"/home/dninja/Projects/github/otrust/src/context/chain/contracts.js",["175"],"import { Contract } from \"@ethersproject/contracts\";\nconst NomContractJSON = require('./ERC20NOM.json')\nconst BondingContractJSON = require('./BondingNOM.json')\n\nexport const contAddrs = require('./NOMAddrs.json')\n\n/**\n * NOM ERC20 Contract instance\n */\nexport function NOMCont(library) {\n  const ABI = NomContractJSON.abi\n  return new Contract(contAddrs.NOMERC20, NomContractJSON.abi, library.getSigner())\n}\n\n/**\n * Haven Contract instance\n */\nexport function BondingCont(library) {\n  const ABI = BondingContractJSON.abi\n  return new Contract(contAddrs.BondingNOM, ABI, library.getSigner())\n}\n",{"ruleId":"176","replacedBy":"177"},{"ruleId":"178","replacedBy":"179"},{"ruleId":"180","severity":1,"message":"181","line":21,"column":6,"nodeType":"182","endLine":21,"endColumn":16,"suggestions":"183"},{"ruleId":"184","severity":1,"message":"185","line":17,"column":7,"nodeType":"186","messageId":"187","endLine":17,"endColumn":8},{"ruleId":"180","severity":1,"message":"188","line":68,"column":26,"nodeType":"189","endLine":68,"endColumn":89},{"ruleId":"184","severity":1,"message":"190","line":10,"column":10,"nodeType":"186","messageId":"187","endLine":10,"endColumn":21},{"ruleId":"180","severity":1,"message":"191","line":98,"column":81,"nodeType":"182","endLine":98,"endColumn":83,"suggestions":"192"},{"ruleId":"180","severity":1,"message":"193","line":101,"column":25,"nodeType":"186","endLine":101,"endColumn":36},{"ruleId":"194","severity":1,"message":"195","line":106,"column":27,"nodeType":"189","messageId":"196","endLine":106,"endColumn":29},{"ruleId":"184","severity":1,"message":"197","line":109,"column":27,"nodeType":"186","messageId":"187","endLine":109,"endColumn":35},{"ruleId":"184","severity":1,"message":"198","line":118,"column":23,"nodeType":"186","messageId":"187","endLine":118,"endColumn":27},{"ruleId":"184","severity":1,"message":"199","line":119,"column":23,"nodeType":"186","messageId":"187","endLine":119,"endColumn":27},{"ruleId":"184","severity":1,"message":"200","line":132,"column":33,"nodeType":"186","messageId":"187","endLine":132,"endColumn":38},{"ruleId":"194","severity":1,"message":"195","line":170,"column":41,"nodeType":"189","messageId":"196","endLine":170,"endColumn":43},{"ruleId":"184","severity":1,"message":"201","line":1,"column":36,"nodeType":"186","messageId":"187","endLine":1,"endColumn":44},{"ruleId":"184","severity":1,"message":"190","line":2,"column":10,"nodeType":"186","messageId":"187","endLine":2,"endColumn":21},{"ruleId":"184","severity":1,"message":"202","line":6,"column":3,"nodeType":"186","messageId":"187","endLine":6,"endColumn":8},{"ruleId":"184","severity":1,"message":"203","line":11,"column":3,"nodeType":"186","messageId":"187","endLine":11,"endColumn":6},{"ruleId":"184","severity":1,"message":"204","line":15,"column":3,"nodeType":"186","messageId":"187","endLine":15,"endColumn":7},{"ruleId":"184","severity":1,"message":"205","line":16,"column":3,"nodeType":"186","messageId":"187","endLine":16,"endColumn":16},{"ruleId":"180","severity":1,"message":"206","line":155,"column":6,"nodeType":"182","endLine":155,"endColumn":44,"suggestions":"207"},{"ruleId":"184","severity":1,"message":"208","line":2,"column":8,"nodeType":"186","messageId":"187","endLine":2,"endColumn":13},{"ruleId":"184","severity":1,"message":"208","line":1,"column":8,"nodeType":"186","messageId":"187","endLine":1,"endColumn":13},{"ruleId":"176","replacedBy":"209"},{"ruleId":"178","replacedBy":"210"},{"ruleId":"184","severity":1,"message":"211","line":4,"column":10,"nodeType":"186","messageId":"187","endLine":4,"endColumn":19},{"ruleId":"180","severity":1,"message":"212","line":49,"column":7,"nodeType":"182","endLine":49,"endColumn":44,"suggestions":"213"},{"ruleId":"184","severity":1,"message":"214","line":3,"column":7,"nodeType":"186","messageId":"187","endLine":3,"endColumn":21},{"ruleId":"180","severity":1,"message":"215","line":48,"column":8,"nodeType":"182","endLine":48,"endColumn":10,"suggestions":"216"},{"ruleId":"180","severity":1,"message":"217","line":59,"column":7,"nodeType":"182","endLine":59,"endColumn":9,"suggestions":"218"},{"ruleId":"184","severity":1,"message":"219","line":11,"column":9,"nodeType":"186","messageId":"187","endLine":11,"endColumn":12},"no-native-reassign",["220"],"no-negated-in-lhs",["221"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'active'. Either include it or remove the dependency array.","ArrayExpression",["222"],"no-unused-vars","'a' is assigned a value but never used.","Identifier","unusedVar","Assignments to the 'upperBound' variable from inside React Hook useEffect will be lost after each render. To preserve the value over time, store it in a useRef Hook and keep the mutable value in the '.current' property. Otherwise, you can move this variable directly inside useEffect.","BinaryExpression","'formatEther' is defined but never used.","React Hook useCallback has a missing dependency: 'setSwapBuyAmount'. Either include it or remove the dependency array.",["223"],"React Hook useCallback does nothing when called with only one argument. Did you forget to pass an array of dependencies?","eqeqeq","Expected '===' and instead saw '=='.","unexpected","'response' is assigned a value but never used.","'res1' is assigned a value but never used.","'res2' is assigned a value but never used.","'error' is assigned a value but never used.","'useState' is defined but never used.","'curve' is defined but never used.","'max' is defined but never used.","'zoom' is defined but never used.","'zoomTransform' is defined but never used.","React Hook useEffect has missing dependencies: 'margin.bottom', 'margin.left', 'margin.right', and 'margin.top'. Either include them or remove the dependency array.",["224"],"'React' is defined but never used.",["220"],["221"],"'Container' is defined but never used.","React Hook useEffect has a missing dependency: 'swapSellAmount'. Either include it or remove the dependency array.",["225"],"'priceBondCurve' is assigned a value but never used.","React Hook useEffect has missing dependencies: 'NOMcontract', 'account', 'bondContract', and 'library'. Either include them or remove the dependency array.",["226"],"React Hook useEffect has a missing dependency: 'initWeb3'. Either include it or remove the dependency array.",["227"],"'ABI' is assigned a value but never used.","no-global-assign","no-unsafe-negation",{"desc":"228","fix":"229"},{"desc":"230","fix":"231"},{"desc":"232","fix":"233"},{"desc":"234","fix":"235"},{"desc":"236","fix":"237"},{"desc":"238","fix":"239"},"Update the dependencies array to be: [activate, active]",{"range":"240","text":"241"},"Update the dependencies array to be: [setSwapBuyAmount]",{"range":"242","text":"243"},"Update the dependencies array to be: [priceAvg, areaData, data, dimensions, margin.left, margin.right, margin.top, margin.bottom]",{"range":"244","text":"245"},"Update the dependencies array to be: [swapDenom, swapBuyAmount, supplyNOM, swapSellAmount]",{"range":"246","text":"247"},"Update the dependencies array to be: [NOMcontract, account, bondContract, library]",{"range":"248","text":"249"},"Update the dependencies array to be: [initWeb3]",{"range":"250","text":"251"},[577,587],"[activate, active]",[2496,2498],"[setSwapBuyAmount]",[3579,3617],"[priceAvg, areaData, data, dimensions, margin.left, margin.right, margin.top, margin.bottom]",[1666,1703],"[swapDenom, swapBuyAmount, supplyNOM, swapSellAmount]",[1791,1793],"[NOMcontract, account, bondContract, library]",[1782,1784],"[initWeb3]"]